---
title: "barf"
publishDate: "2025-08-08"
description: "Big ass refactor, LLM and more"
author: "Einar Gudni"
draft: false
tags: ["ai"]
---

import { Image } from "astro:assets"
import SubHeading from "../../pages/components/blog/SubHeading.astro"
import InlineLink from "../../pages/components/blog/InlineLink.astro"
import commits from "../../images/barf/commits.png"
import files from "../../images/barf/files.png"
import numbers from "../../images/barf/numbers.png"

<div class="mt-4">

<SubHeading>Big Ass Refactoring</SubHeading>

<div class="mt-4">
  <p class="mt-2">Large Language Models have kicked down the door in all our lives and they are moving fast!</p>

  <p class="mt-2">Every single week there is a new app, a new model or some new stuff built on it.</p>

  <p class="mt-2">I have been trying to tag along and play around with it as much as I can. I'm not a power user but I'll share some of the ways I've been using those models to help me.</p>
</div>

<SubHeading>Refactoring</SubHeading>

<div>
  <p class="mt-2">I've been maintaining a software project for couple of years as a freelancer. I took over the maintainance from some other guys who did great a job.</p>

  <p class="mt-2">However I felt like I was somewhat stuck in place. Multiple packages had not been updated for many years, some npm package not being maintained. I was in this constant limbo of adding new features or should I try to update packages.</p>

  <p class="mt-2">I tried a few times to update few packages and it worked, but sooner or later I ran into dependency conflicts and bigger updates were needed.</p>

  <p class="mt-2">Here came a LLM to my rescue!</p>

  <p class="mt-2">I could ask it to refactor the code for me, update the packages and even write tests for it.</p>

  <p class="mt-2">It was much quicker than doing it manually. I powered through the whole codebase in couple of weeks.</p>

  <p class="mt-2">I even managed to update build tool to vite after updating all the packages.</p>

  <p class="mt-2">This would have taken me months to do manually.</p>

  <div class="flex items-center justify-center">
    <Image
      alt={`Refactor example`}
      src={commits}
      width={1042 / 2}
      height={401 / 2}
      class="my-4 rounded-md"
    />
  </div>

<p class="mt-2">As you can see this, refactor was 146 commits, I commited every time I updated a pacakage or refactored a file.</p>

  <div class="flex items-center justify-center">
    <Image
      alt={`Files refactored`}
      src={files}
      width={1042 / 2}
      height={401 / 2}
      class="my-4 rounded-md"
    />
  </div>
 
  <p class="mt-2">I changed 336 files. Some had minor changes, other major changes. Some of it was a part of this new vite setup</p>

  <div class="flex items-center justify-center">
    <Image
      alt={`Numbers of lines`}
      src={numbers}
      width={1042 / 2}
      height={401 / 2}
      class="my-4 rounded-md"
     />
  </div>

  <p class="mt-2">As you can see, I managed to remove a lot of lines of code.</p>

  <p class="mt-2">I think the biggest win was removing all use of styled components and replaced it with Chakra UI.</p>
 
  <p class="mt-2">Chakra UI was already used widely in the codebase so it made sense to use a single styling system.</p>

  <p class="mt-2">These Large Language Models are great for tasks like this. I did not expect to be so productive with this refactor.</p>

  <p class="mt-2">There are multiple sources on what are good ways to leverage these models.</p>

  <p class="mt-2">I simply gave it my package.json and asked for a todo list to upgrade packages or find a replacement.</p>

  <p class="mt-2">After that it was a quick feedback loop of telling it upgrade and test, see if things worked, and if they did, commit to git ðŸ¤–</p>
</div>

</div>
